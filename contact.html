<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - ArtisanPro</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Barre de progression -->
    <div id="scroll-progress"></div>

    <!-- Header -->
    <header>
        <div class="logo">ArtisanPro</div>

        <button class="burger" id="burger-btn">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <nav class="nav" id="main-nav">
            <a href="index.html">Accueil</a>
            <a href="services.html">Services</a>
            <a href="tarifs.html">Tarifs</a>
            <a href="devisgratuit.html">Devis gratuit</a>
            <a href="contact.html" class="btn-menu">Contact</a>
            <a href="apropos.html">√Ä propos</a>
        </nav>
    </header>

    <!-- Section Hero -->
    <section class="contact-header">
        <h1>Contactez-nous</h1>
        <p>Vous avez une question ou souhaitez prendre rendez-vous ? Remplissez le formulaire ci-dessous ou contactez-nous directement.</p>
    </section>

    <!-- Section formulaire + infos -->
    <section class="contact-section">
        <div class="contact-container">

            <!-- Formulaire -->
            <form id="contact-form" action="https://formspree.io/f/mpwkryep" method="POST">
                <input type="hidden" name="_format" value="json">

                <div class="anim">
                    <label for="nom">Nom complet</label>
                    <input type="text" id="nom" name="nom" required>
                </div>

                <div class="anim">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="anim">
                    <label for="tel">T√©l√©phone</label>
                    <input type="tel" id="tel" name="tel">
                </div>

                <div class="anim">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>

                <div class="anim">
                    <button type="submit" class="btn">Envoyer</button>
                    <p id="form-message"></p>
                </div>
            </form>

            <!-- Infos et map -->
            <div class="contact-info anim">
                <h3>Nos coordonn√©es</h3>
                <p>üìç 123 Rue de l‚ÄôArtisan, 75000 Paris</p>
                <p>üìû 01 23 45 67 89</p>
                <p>‚úâ contact@artisanpro.fr</p>

                <div class="map-container">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.999999!2d2.292292!3d48.858844!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66f0000000000%3A0x0000000000000000!2sParis!5e0!3m2!1sfr!2sfr!4v1234567890" 
                        width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>

        </div>
    </section>

    <!-- JS -->
    <script>
        // Menu burger mobile
        const burger = document.getElementById('burger-btn');
        const nav = document.getElementById('main-nav');
        if(burger){
            burger.addEventListener('click', () => {
                nav.classList.toggle('open');
            });
        }

        // Formulaire Contact avec Formspree
        const contactForm = document.getElementById('contact-form');
        const formMessage = document.getElementById('form-message');

        if (contactForm) {
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const formData = new FormData(contactForm);

                fetch(contactForm.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        formMessage.textContent = "Merci ! Votre message a √©t√© envoy√© avec succ√®s.";
                        formMessage.style.color = "green";
                        contactForm.reset();
                    } else {
                        formMessage.textContent = "Une erreur est survenue. Veuillez r√©essayer.";
                        formMessage.style.color = "red";
                    }
                })
                .catch(() => {
                    formMessage.textContent = "Une erreur est survenue. Veuillez r√©essayer.";
                    formMessage.style.color = "red";
                });
            });
        }

        // Animations au scroll
        const animItems = document.querySelectorAll('.anim');

        const observerAnim = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting){
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.2 });

        animItems.forEach(item => observerAnim.observe(item));

        // Barre de progression
        const scrollProgress = document.getElementById('scroll-progress');
        window.addEventListener('scroll', () => {
            const scrollTop = window.scrollY;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            scrollProgress.style.width = scrollPercent + '%';
        });
    </script>

</body>
</html>
